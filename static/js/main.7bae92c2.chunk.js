(this["webpackJsonpspa-lib"]=this["webpackJsonpspa-lib"]||[]).push([[0],{15:function(e,t,a){e.exports={update_form:"UpdateCard_update_form__3Ij7h",prev:"UpdateCard_prev__lTx4I",book_form_input:"UpdateCard_book_form_input__aA0-g",book_form_button:"UpdateCard_book_form_button__1T0_t","update_form-isbn":"UpdateCard_update_form-isbn__3S13V"}},17:function(e,t,a){e.exports={book_card:"BookCard_book_card__nAImo",book_title:"BookCard_book_title__1OeSg",book_author:"BookCard_book_author__3OIOW",book_ISBN:"BookCard_book_ISBN__2VLuZ",book_year:"BookCard_book_year__2P7Uf",buttons:"BookCard_buttons__Hqr_7",delete_button:"BookCard_delete_button__aCCoS",update_button:"BookCard_update_button__2d2P7"}},18:function(e,t,a){e.exports={header:"Header_header__2MeQq",header_title:"Header_header_title__l-pme",header_nav:"Header_header_nav__1HnfB",nav_button:"Header_nav_button__2HZsB",login_button:"Header_login_button__1h2ne"}},21:function(e,t,a){e.exports={book_form:"AddNewCard_book_form__hu1TX",book_form_input:"AddNewCard_book_form_input__2aBLh",book_form_button:"AddNewCard_book_form_button__3zKN0"}},30:function(e,t,a){e.exports={hero:"Hero_hero__1cM1X",button_log:"Hero_button_log__3nGck"}},42:function(e,t,a){},43:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),c=a(25),r=a.n(c),s=(a(42),a(16)),u=(a(43),a(18)),l=a.n(u),i=a(14),b=a(1);var _=function(){return Object(b.jsxs)("header",{className:l.a.header,children:[Object(b.jsxs)("nav",{className:l.a.header_nav,children:[Object(b.jsx)(i.b,{to:"/",className:l.a.nav_button,children:Object(b.jsx)("h1",{className:l.a.header_title,children:"Books Library"})}),Object(b.jsx)(i.b,{to:"/",className:l.a.nav_button,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(b.jsx)(i.b,{to:"/AddNedCard",className:l.a.nav_button,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})]}),Object(b.jsx)(i.b,{to:"/AuthPAge",children:Object(b.jsx)("button",{className:l.a.login_button,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})},d=a(33),j=a(34),h=a(37),p=a(36),m=a(17),O=a.n(m),f=a(23);a(49),a(53);f.a.initializeApp({apiKey:"AIzaSyDrN1EOvlyASCHYqasjIarRkwszj8QBkZ4",authDomain:"books-catalog-24a46.firebaseapp.com",projectId:"books-catalog-24a46",storageBucket:"books-catalog-24a46.appspot.com",messagingSenderId:"327824812370",appId:"1:327824812370:web:7039ebb80d371b03dcb28b",measurementId:"G-0Q26BWM2MT"});f.a.auth();var x=f.a.firestore(),k=f.a,v=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={Books:null},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.collection("Books").onSnapshot((function(t){var a=[];t.forEach((function(e){var t=e.data();a.push(t)})),e.setState({Books:a})}))}},{key:"DeleteCardData",value:function(e){x.collection("Books").doc(e).delete()}},{key:"render",value:function(){var e=this;return this.state.Books&&this.state.Books.map((function(t){return Object(b.jsxs)("div",{className:O.a.book_card,children:[Object(b.jsx)("h2",{className:O.a.book_title,children:t.title}),Object(b.jsxs)("h2",{className:O.a.book_author,children:["\u0410\u0432\u0442\u043e\u0440: ",t.author]}),Object(b.jsxs)("h3",{className:O.a.book_year,children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: ",t.date]}),Object(b.jsxs)("h3",{className:O.a.book_ISBN,children:["ISBN: ",t.ISBN]}),Object(b.jsxs)("div",{className:O.a.buttons,children:[Object(b.jsx)("button",{className:O.a.delete_button,onClick:function(){return e.DeleteCardData(t.ISBN)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(b.jsx)(i.b,{to:{pathname:"/UpdateCard",aboutProps:{title:t.title,author:t.author,date:t.date,isbn:t.ISBN}},children:Object(b.jsx)("button",{className:O.a.update_button,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})})]})]},t.ISBN)}))}}]),a}(o.a.Component),g=a(21),N=a.n(g);var C=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useRef)(null),o=Object(n.useRef)(null);return Object(b.jsxs)("div",{className:N.a.book_form,children:[Object(b.jsx)("input",{ref:e,className:N.a.book_form_input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"}),Object(b.jsx)("input",{ref:t,className:N.a.book_form_input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430 \u043a\u043d\u0438\u0433\u0438"}),Object(b.jsx)("input",{ref:a,className:N.a.book_form_input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"}),Object(b.jsx)("input",{ref:o,className:N.a.book_form_input,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ISBN(\u041d\u0435 \u043f\u0443\u0441\u0442\u043e\u0439)"}),Object(b.jsx)("button",{className:N.a.book_form_button,onClick:function(){x.collection("Books").doc(o.current.value).set({title:e.current.value,author:t.current.value,date:a.current.value,ISBN:o.current.value}),e.current.value="",t.current.value="",a.current.value="",o.current.value="",alert("\u041a\u043d\u0438\u0433\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})]})},B=a(9),S=a.n(B),I=function(e){var t=e.email,a=e.setEmail,n=e.password,o=e.setPassword,c=e.handleLogin,r=e.handleSignUp,s=e.hasAccount,u=e.setHasAccount,l=e.emailError,i=e.passwordError;return Object(b.jsx)("section",{className:S.a.login,children:Object(b.jsxs)("div",{className:S.a.login_wrapper,children:[Object(b.jsx)("input",{placeholder:"\u041b\u043e\u0433\u0438\u043d",type:"text",autoFocus:!0,required:!0,value:t,className:S.a.input,onChange:function(e){return a(e.target.value)}}),Object(b.jsx)("p",{className:S.a.error_message,children:l}),Object(b.jsx)("input",{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",required:!0,value:n,className:S.a.input,onChange:function(e){return o(e.target.value)}}),Object(b.jsx)("p",{className:S.a.error_message,children:i}),Object(b.jsx)("div",{className:S.a.button_container,children:s?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:c,className:S.a.button_log,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(b.jsxs)("p",{className:S.a.button_container__text,children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",Object(b.jsx)("span",{className:S.a.button_container__span,onClick:function(){return u(!s)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:r,className:S.a.button_log,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(b.jsxs)("p",{className:S.a.button_container__text,children:["\u0415\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"," ",Object(b.jsx)("span",{className:S.a.button_container__span,onClick:function(){return u(!s)},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})]})})},w=a(30),A=a.n(w),y=function(e){return Object(b.jsx)("section",{className:A.a.hero,children:Object(b.jsxs)("nav",{children:[Object(b.jsx)("h2",{children:"\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"}),Object(b.jsx)("button",{onClick:e.handleLogOut,className:A.a.button_log,children:"\u0412\u044b\u0439\u0442\u0438"})]})})};var L=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),r=Object(s.a)(c,2),u=r[0],l=r[1],i=Object(n.useState)(""),_=Object(s.a)(i,2),d=_[0],j=_[1],h=Object(n.useState)(""),p=Object(s.a)(h,2),m=p[0],O=p[1],f=Object(n.useState)(""),x=Object(s.a)(f,2),v=x[0],g=x[1],N=Object(n.useState)(!1),C=Object(s.a)(N,2),B=C[0],S=C[1],w=function(){O(""),g("")},A=function(){k.auth().onAuthStateChanged((function(e){e?(j(""),l(""),o(e)):o("")}))};return Object(n.useEffect)((function(){A()}),[]),Object(b.jsx)(b.Fragment,{children:a?Object(b.jsx)(y,{handleLogOut:function(){k.auth().signOut()}}):Object(b.jsx)(I,{email:d,setEmail:j,password:u,setPassword:l,handleLogin:function(){w(),k.auth().signInWithEmailAndPassword(d,u).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":O(e.message);break;case"auth/wrong-password":g(e.message)}}))},handleSignUp:function(){w(),k.auth().createUserWithEmailAndPassword(d,u).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":O(e.message);break;case"auth/weak-password":g(e.message)}}))},hasAccount:B,setHasAccount:S,emailError:m,passwordError:v})})},E=a(5),H=a(15),P=a.n(H);var U=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),o=Object(n.useRef)(null),c=Object(n.useRef)(null);if(!e.location.aboutProps)return Object(b.jsx)(E.a,{to:"/"});var r=e.location.aboutProps,s=r.title,u=r.author,l=r.date,i=r.isbn;return Object(b.jsxs)("div",{className:P.a.update_form,children:[Object(b.jsxs)("p",{className:P.a.prev,children:["\u0421\u0442\u0430\u0440\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",s]}),Object(b.jsx)("input",{ref:t,className:P.a.book_form_input,placeholder:"\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438"}),Object(b.jsxs)("p",{className:P.a.prev,children:["\u0421\u0442\u0430\u0440\u044b\u0439 \u0430\u0432\u0442\u043e\u0440: ",u]}),Object(b.jsx)("input",{ref:a,className:P.a.book_form_input,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u0430\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438"}),Object(b.jsxs)("p",{className:P.a.prev,children:["\u0421\u0442\u0430\u0440\u0430\u044f \u0434\u0430\u0442\u0430: ",l]}),Object(b.jsx)("input",{ref:o,className:P.a.book_form_input,placeholder:"\u041d\u043e\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f"}),Object(b.jsxs)("p",{ref:c,className:P.a.update_form_isbn,children:["ISBN \u041a\u043d\u0438\u0433\u0438: ",i]}),Object(b.jsx)("button",{className:P.a.book_form_button,onClick:function(){x.collection("Books").doc(i).update({title:t.current.value,author:a.current.value,date:o.current.value,ISBN:i}),t.current.value="",a.current.value="",o.current.value="",c.current.value="",alert("\u041a\u043d\u0438\u0433\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430")},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})]})};var F=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){k.auth().onAuthStateChanged((function(e){o(e||"")}))}),[]),Object(b.jsx)(b.Fragment,{children:a?Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(_,{}),Object(b.jsx)("main",{className:"main",children:Object(b.jsxs)(E.d,{children:[Object(b.jsx)(E.b,{exact:!0,path:"/",component:v}),Object(b.jsx)(E.b,{path:"/AddNedCard",component:C}),Object(b.jsx)(E.b,{path:"/AuthPage",component:L}),Object(b.jsx)(E.b,{path:"/UpdateCard",component:U})]})})]})}):Object(b.jsx)(L,{})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),o(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root")),R()},9:function(e,t,a){e.exports={button_log:"LogIn_button_log__10yF9",login:"LogIn_login__3B1T9",login_wrapper:"LogIn_login_wrapper__1X5Mw",input:"LogIn_input__BKSpg",button_container__span:"LogIn_button_container__span__Gumxh",error_message:"LogIn_error_message__3GZs3"}}},[[52,1,2]]]);
//# sourceMappingURL=main.7bae92c2.chunk.js.map